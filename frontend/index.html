<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Government Hospital - Appointment</title>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#137fec",
                        "background-light": "#f6f7f8",
                        "background-dark": "#05080a",
                        "card-dark": "#111a22",
                        "input-dark": "#192633",
                        "border-dark": "#233648",
                    },
                    fontFamily: { "display": ["Inter", "sans-serif"] },
                },
            },
        }
    </script>
    <style>
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #111a22; }
        ::-webkit-scrollbar-thumb { background: #233648; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #324d67; }
        
        dialog::backdrop { background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(4px); }

        /* Dark Mode Calendar Fix */
        ::-webkit-calendar-picker-indicator {
            filter: invert(1);
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-background-dark text-white font-display antialiased min-h-screen flex flex-col overflow-x-hidden">

<header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-border-dark px-6 py-4 lg:px-10 bg-card-dark/80 backdrop-blur-md sticky top-0 z-50">
    <div class="flex items-center gap-4 text-white">
        <div class="size-8 flex items-center justify-center rounded-lg bg-primary/20 text-primary">
            <span class="material-symbols-outlined text-2xl">local_hospital</span>
        </div>
        <h2 class="text-white text-xl font-bold leading-tight tracking-tight">Government Hospital</h2>
    </div>
    <div class="flex flex-1 justify-end gap-6 hidden md:flex items-center">
        <div class="flex items-center gap-9 mr-4">
            <a class="text-gray-300 hover:text-white text-sm font-medium transition-colors" href="home.html">Home</a>
            <a class="text-white text-sm font-medium border-b-2 border-primary pb-0.5" href="index.html">Appointments</a>
            <a class="text-gray-300 hover:text-white text-sm font-medium transition-colors" href="contact.html">Contact</a>
        </div>
        
        <button id="auth-btn" onclick="openAuthModal()" class="bg-input-dark border border-border-dark hover:border-gray-500 px-4 py-2 rounded-lg text-sm font-medium transition-all text-gray-300 hover:text-white">
            Login / Register
        </button>

        <button onclick="openBookingModal()" class="flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-5 bg-primary hover:bg-blue-600 transition-colors text-white text-sm font-bold shadow-lg shadow-blue-900/20">
            <span class="truncate">Your Bookings</span>
        </button>
    </div>
</header>

<main class="flex-1 w-full max-w-7xl mx-auto px-4 py-8 lg:px-8 lg:py-12">
    <div class="grid lg:grid-cols-12 gap-10">
        <div class="lg:col-span-4 flex flex-col gap-6">
            <div class="flex flex-col gap-4">
                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-900/30 border border-blue-800/50 w-fit">
                    <span class="material-symbols-outlined text-primary text-sm">calendar_month</span>
                    <span class="text-primary text-xs font-bold uppercase tracking-wide">Online Booking</span>
                </div>
                <h1 class="text-4xl md:text-5xl font-black leading-tight tracking-[-0.033em] text-white">
                    Book your <br/>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-600">Appointment</span>
                </h1>
                <p class="text-gray-400 text-lg leading-relaxed">
                    Schedule a visit with our world-class specialists. Fill in the details to secure your spot.
                </p>
            </div>
        </div>

        <div class="lg:col-span-8">
            <div class="bg-card-dark rounded-2xl border border-border-dark p-6 md:p-8 shadow-2xl shadow-black/50">
                <form id="booking-form" class="flex flex-col gap-8" onsubmit="handleBooking(event)">
                    
                    <div class="flex flex-col gap-6">
                        <div class="flex items-center gap-2 pb-2 border-b border-border-dark">
                            <span class="material-symbols-outlined text-primary">person</span>
                            <h3 class="text-lg font-bold text-white">Patient Information</h3>
                        </div>
                        <div class="grid md:grid-cols-2 gap-6">
                            <label class="flex flex-col gap-2">
                                <span class="text-sm font-medium text-gray-300">Full Name</span>
                                <input id="patient-name" class="w-full h-12 bg-input-dark border border-border-dark rounded-lg px-4 text-white placeholder-gray-500 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all" placeholder="e.g. John Doe" type="text" required/>
                            </label>
                            <div class="grid grid-cols-3 gap-6">
                                <label class="flex flex-col gap-2 col-span-1">
                                    <span class="text-sm font-medium text-gray-300">Age</span>
                                    <input class="w-full h-12 bg-input-dark border border-border-dark rounded-lg px-4 text-white placeholder-gray-500 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all" placeholder="30" type="number"/>
                                </label>
                                <label class="flex flex-col gap-2 col-span-2">
                                    <span class="text-sm font-medium text-gray-300">Gender</span>
                                    <div class="relative">
                                        <select class="w-full h-12 bg-input-dark border border-border-dark rounded-lg px-4 text-white appearance-none focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all cursor-pointer">
                                            <option>Male</option>
                                            <option>Female</option>
                                            <option>Other</option>
                                        </select>
                                        <span class="material-symbols-outlined absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 pointer-events-none">expand_more</span>
                                    </div>
                                </label>
                            </div>
                            <label class="flex flex-col gap-2 md:col-span-2">
                                <span class="text-sm font-medium text-gray-300">Phone Number</span>
                                <div class="relative">
                                    <span class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-gray-500">call</span>
                                    <input class="w-full h-12 bg-input-dark border border-border-dark rounded-lg pl-12 pr-4 text-white placeholder-gray-500 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all" placeholder="(555) 123-4567" type="tel"/>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="flex flex-col gap-6">
                        <div class="flex items-center gap-2 pb-2 border-b border-border-dark">
                            <span class="material-symbols-outlined text-primary">stethoscope</span>
                            <h3 class="text-lg font-bold text-white">Appointment Details</h3>
                        </div>
                        
                        <div class="flex flex-col gap-2">
                            <span class="text-sm font-medium text-gray-300">Select Doctor</span>
                            <div class="relative">
                                <select id="doctor-select" class="w-full h-12 bg-input-dark border border-border-dark rounded-lg px-4 text-white appearance-none focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all cursor-pointer">
                                    <option value="" disabled selected>Choose a Specialist...</option>
                                    <option value="Dr. A. Sharma">Dr. A. Sharma - Cardiology</option>
                                    <option value="Dr. B. Verma">Dr. B. Verma - General Medicine</option>
                                    <option value="Dr. C. Iyer">Dr. C. Iyer - Pediatrics</option>
                                    <option value="Dr. D. Rao">Dr. D. Rao - Orthopedics</option>
                                </select>
                                <span class="material-symbols-outlined absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 pointer-events-none">expand_more</span>
                            </div>
                        </div>

                        <div class="flex flex-col gap-2">
                            <span class="text-sm font-medium text-gray-300">Select Date</span>
                            <input id="appointment-date" type="date" class="w-full h-12 bg-input-dark border border-border-dark rounded-lg px-4 text-white placeholder-gray-500 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all cursor-pointer calendar-dark" />
                        </div>

                        <div class="flex flex-col gap-2">
                            <span class="text-sm font-medium text-gray-300">Available Time Slots (Select One)</span>
                            <div id="slots-container" class="grid grid-cols-2 md:grid-cols-3 gap-3">
                                </div>
                        </div>
                    </div>

                    <div class="flex flex-col md:flex-row items-center justify-between gap-6 pt-4 border-t border-border-dark">
                        <p id="status-message" class="text-sm text-gray-400"></p>
                        <button type="submit" class="w-full md:w-auto px-8 py-3.5 bg-primary hover:bg-blue-600 text-white font-bold rounded-lg shadow-lg shadow-blue-500/25 transition-all transform active:scale-95 flex items-center justify-center gap-2">
                            <span>Confirm Booking</span>
                            <span class="material-symbols-outlined text-lg">arrow_forward</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</main>

<dialog id="bookingsModal" class="bg-card-dark text-white p-6 rounded-2xl shadow-2xl border border-border-dark w-full max-w-md backdrop:bg-black/80">
    <div class="flex justify-between items-center mb-4 border-b border-border-dark pb-2">
        <h3 class="text-xl font-bold flex items-center gap-2">
            <span class="material-symbols-outlined text-primary">history</span>
            Your Bookings
        </h3>
        <button onclick="document.getElementById('bookingsModal').close()" class="text-gray-400 hover:text-white">
            <span class="material-symbols-outlined">close</span>
        </button>
    </div>
    <div id="my-bookings-list" class="flex flex-col gap-3 max-h-[60vh] overflow-y-auto">
        <p class="text-gray-500 text-center py-4">Loading...</p>
    </div>
</dialog>

<dialog id="authModal" class="bg-transparent backdrop:bg-black/80 p-0 rounded-2xl shadow-2xl w-full max-w-md">
    <div class="bg-card-dark border border-border-dark p-6 rounded-2xl relative shadow-2xl">
        <button onclick="document.getElementById('authModal').close()" class="absolute top-4 right-4 text-gray-400 hover:text-white material-symbols-outlined">close</button>
        
        <h2 id="modal-title" class="text-2xl font-bold text-white mb-6">Login</h2>
        
        <div class="flex flex-col gap-4">
            <input type="text" id="auth-username" placeholder="Username or Email" class="w-full bg-input-dark border border-border-dark rounded-lg p-3 text-white focus:border-primary outline-none">
            
            <div id="register-fields" class="flex flex-col gap-4 hidden">
                <input type="email" id="auth-email" placeholder="Email Address" class="w-full bg-input-dark border border-border-dark rounded-lg p-3 text-white focus:border-primary outline-none">
                <input type="tel" id="auth-phone" placeholder="Phone Number" class="w-full bg-input-dark border border-border-dark rounded-lg p-3 text-white focus:border-primary outline-none">
            </div>

            <input type="password" id="auth-password" placeholder="Password" class="w-full bg-input-dark border border-border-dark rounded-lg p-3 text-white focus:border-primary outline-none">
            
            <button onclick="handleAuth()" class="w-full bg-primary hover:bg-blue-600 text-white font-bold py-3 rounded-lg transition-all shadow-lg shadow-blue-500/20">
                Submit
            </button>
            
            <p class="text-center text-gray-400 text-sm cursor-pointer hover:text-primary mt-2" onclick="toggleAuthMode()">
                <span id="toggle-text">Need an account? Register</span>
            </p>
            <p id="auth-msg" class="text-center text-red-500 text-sm mt-2 font-medium"></p>
        </div>
    </div>
</dialog>

<footer class="border-t border-border-dark py-8 px-6 lg:px-10 mt-8 bg-card-dark">
    <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4 text-gray-500 text-sm">
        <p>Â© 2023 Government Hospital. All rights reserved.</p>
    </div>
</footer>

<script src="script.js"></script>
</body>
</html>